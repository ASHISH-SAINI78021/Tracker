<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focus Fuel | Daily Routine Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --dark-bg: #121212;
            --dark-card: #1e1e1e;
            --dark-border: #333;
            --primary: #7c3aed;
            --secondary: #6d28d9;
            --accent: #ec4899;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --text: #e0e0e0;
            --text-muted: #a0a0a0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--dark-bg);
            color: var(--text);
            min-height: 100vh;
            padding: 15px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
            padding: 15px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 8px;
            background: linear-gradient(to right, var(--accent), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .subtitle {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 20px;
        }
        
        .card {
            background: var(--dark-card);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }
        
        .card-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 8px 0;
            color: white;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--text-muted);
        }
        
        .tabs {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            background: var(--dark-card);
            border-radius: 12px;
            padding: 8px;
        }
        
        .tab {
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            text-align: center;
            flex: 1;
            margin: 0 5px;
        }
        
        .tab.active {
            background: var(--primary);
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        button {
            padding: 14px;
            border: none;
            border-radius: 8px;
            background: var(--primary);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        button:hover {
            opacity: 0.9;
        }
        
        .routine-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .routine-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .routine-info {
            flex: 1;
        }
        
        .routine-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .routine-time {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .routine-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-yes, .btn-no {
            padding: 8px 15px;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .btn-yes {
            background: var(--success);
        }
        
        .btn-no {
            background: var(--danger);
        }
        
        .counter-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
        }
        
        .counter-value {
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .counter-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .summary-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .summary-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 5px 0;
        }
        
        .summary-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        @media (max-width: 768px) {
            .stats-grid, .summary-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Focus Fuel</h1>
            <p class="subtitle">Track your daily routine and productivity</p>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-tab="today">Today</div>
            <div class="tab" data-tab="routine">Routine</div>
            <div class="tab" data-tab="counters">Counters</div>
            <div class="tab" data-tab="progress">Progress</div>
        </div>
        
        <!-- Today Tab -->
        <div class="tab-content active" id="today-tab">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-calendar-day"></i> Today's Progress</h2>
                
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-value" id="completed-tasks">0/11</div>
                        <div class="stat-label">Tasks Completed</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="success-rate">0%</div>
                        <div class="stat-label">Success Rate</div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="today-progress" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-tasks"></i> Today's Routine</h2>
                
                <div class="routine-grid" id="today-routine">
                    <!-- Routine items will be added here -->
                </div>
            </div>
        </div>
        
        <!-- Routine Tab -->
        <div class="tab-content" id="routine-tab">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-list-check"></i> Daily Routine</h2>
                
                <div class="routine-grid" id="routine-list">
                    <!-- Routine items will be added here -->
                </div>
            </div>
        </div>
        
        <!-- Counters Tab -->
        <div class="tab-content" id="counters-tab">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-utensils"></i> Meal Counter</h2>
                
                <div class="counter-container">
                    <button class="counter-btn" id="meal-minus">-</button>
                    <div class="counter-value" id="meal-count">0</div>
                    <button class="counter-btn" id="meal-plus">+</button>
                </div>
                
                <button id="reset-meals">Reset Meal Counter</button>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-ban"></i> Urge Counter</h2>
                
                <div class="counter-container">
                    <button class="counter-btn" id="urge-minus">-</button>
                    <div class="counter-value" id="urge-count">0</div>
                    <button class="counter-btn" id="urge-plus">+</button>
                </div>
                
                <button id="reset-urges">Reset Urge Counter</button>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-stopwatch"></i> Urge Timer</h2>
                
                <div class="timer-display" id="timer">02:00</div>
                
                <div class="timer-buttons">
                    <button id="startBtn">Start Timer</button>
                    <button id="resetBtn">Reset Timer</button>
                </div>
            </div>
        </div>
        
        <!-- Progress Tab -->
        <div class="tab-content" id="progress-tab">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-chart-pie"></i> Weekly Progress</h2>
                
                <div class="summary-grid">
                    <div class="summary-item">
                        <div class="summary-value" id="wake-up-percentage">0%</div>
                        <div class="summary-label">Wake Up at 4 AM</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="dsa-percentage">0%</div>
                        <div class="summary-label">DSA Practice</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="revision-percentage">0%</div>
                        <div class="summary-label">Revision Completed</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="meals-percentage">0%</div>
                        <div class="summary-label">Meals Taken</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="porn-free-percentage">0%</div>
                        <div class="summary-label">Porn-Free Days</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="sleep-percentage">0%</div>
                        <div class="summary-label">Slept by 10 PM</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-calendar-week"></i> This Week</h2>
                <div id="weekly-chart">
                    <!-- Weekly chart will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const todayRoutineContainer = document.getElementById('today-routine');
        const routineListContainer = document.getElementById('routine-list');
        const weeklyChartContainer = document.getElementById('weekly-chart');
        
        // Counter elements
        const mealCountElement = document.getElementById('meal-count');
        const mealPlusBtn = document.getElementById('meal-plus');
        const mealMinusBtn = document.getElementById('meal-minus');
        const resetMealsBtn = document.getElementById('reset-meals');
        
        const urgeCountElement = document.getElementById('urge-count');
        const urgePlusBtn = document.getElementById('urge-plus');
        const urgeMinusBtn = document.getElementById('urge-minus');
        const resetUrgesBtn = document.getElementById('reset-urges');
        
        // Timer elements
        const timerDisplay = document.getElementById('timer');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        
        // Routine data structure
        const routineItems = [
            { id: 'wakeup', title: 'Wake Up', time: '4:00 AM', completed: false },
            { id: 'dsa', title: 'DSA Practice', time: '4:00 - 6:00 AM', completed: false },
            { id: 'walk', title: 'Walk/Stretch', time: '6:00 - 6:30 AM', completed: false },
            { id: 'revision', title: 'Revision', time: '6:30 - 7:30 AM', completed: false },
            { id: 'breakfast', title: 'Breakfast', time: 'Morning', completed: false },
            { id: 'library', title: 'Library/Classes', time: 'Daytime', completed: false },
            { id: 'lunch', title: 'Lunch', time: 'Noon', completed: false },
            { id: 'mocktest', title: 'Mock/Test/Contest', time: 'Afternoon', completed: false },
            { id: 'evening', title: 'Evening Activity', time: 'Evening', completed: false },
            { id: 'dinner', title: 'Dinner', time: 'Evening', completed: false },
            { id: 'pornfree', title: 'Porn-Free', time: 'All Day', completed: false },
            { id: 'sleep', title: 'Sleep by 10 PM', time: '10:00 PM', completed: false }
        ];
        
        // Data storage
        let todayData = {
            date: new Date().toDateString(),
            meals: 0,
            urges: 0,
            routine: {}
        };
        
        let weeklyData = {};
        
        // Timer variables
        let timeLeft = 2 * 60;
        let timerInterval = null;
        
        // Initialize
        loadData();
        initializeRoutine();
        updateUI();
        
        // Tab navigation
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(t => t.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(`${tabId}-tab`).classList.add('active');
                
                // If switching to progress tab, update statistics
                if (tabId === 'progress') {
                    updateWeeklyStats();
                }
            });
        });
        
        // Initialize routine items
        function initializeRoutine() {
            // Clear containers
            todayRoutineContainer.innerHTML = '';
            routineListContainer.innerHTML = '';
            
            // Add routine items
            routineItems.forEach(item => {
                const routineElement = createRoutineElement(item);
                todayRoutineContainer.appendChild(routineElement.cloneNode(true));
                routineListContainer.appendChild(routineElement);
            });
        }
        
        // Create routine element
        function createRoutineElement(item) {
            const div = document.createElement('div');
            div.className = 'routine-item';
            div.id = `routine-${item.id}`;
            
            div.innerHTML = `
                <div class="routine-info">
                    <div class="routine-title">${item.title}</div>
                    <div class="routine-time">${item.time}</div>
                </div>
                <div class="routine-actions">
                    <button class="btn-yes" data-id="${item.id}" data-value="yes">Yes</button>
                    <button class="btn-no" data-id="${item.id}" data-value="no">No</button>
                </div>
            `;
            
            // Set initial state
            if (todayData.routine[item.id] === 'yes') {
                div.style.background = 'rgba(16, 185, 129, 0.1)';
            } else if (todayData.routine[item.id] === 'no') {
                div.style.background = 'rgba(239, 68, 68, 0.1)';
            }
            
            // Add event listeners
            div.querySelector('.btn-yes').addEventListener('click', () => updateRoutineItem(item.id, 'yes'));
            div.querySelector('.btn-no').addEventListener('click', () => updateRoutineItem(item.id, 'no'));
            
            return div;
        }
        
        // Update routine item
        function updateRoutineItem(id, value) {
            todayData.routine[id] = value;
            saveData();
            updateUI();
            
            // Update visual state
            const element = document.getElementById(`routine-${id}`);
            if (value === 'yes') {
                element.style.background = 'rgba(16, 185, 129, 0.1)';
            } else {
                element.style.background = 'rgba(239, 68, 68, 0.1)';
            }
        }
        
        // Update UI
        function updateUI() {
            // Update completed tasks count
            const completedCount = Object.values(todayData.routine).filter(v => v === 'yes').length;
            const totalCount = routineItems.length;
            
            document.getElementById('completed-tasks').textContent = `${completedCount}/${totalCount}`;
            
            // Update success rate
            const successRate = Math.round((completedCount / totalCount) * 100);
            document.getElementById('success-rate').textContent = `${successRate}%`;
            
            // Update progress bar
            document.getElementById('today-progress').style.width = `${successRate}%`;
            
            // Update counters
            mealCountElement.textContent = todayData.meals;
            urgeCountElement.textContent = todayData.urges;
        }
        
        // Update weekly statistics
        function updateWeeklyStats() {
            // Calculate weekly percentages
            const weeklyPercentages = calculateWeeklyStats();
            
            // Update percentage values
            document.getElementById('wake-up-percentage').textContent = `${weeklyPercentages.wakeup}%`;
            document.getElementById('dsa-percentage').textContent = `${weeklyPercentages.dsa}%`;
            document.getElementById('revision-percentage').textContent = `${weeklyPercentages.revision}%`;
            document.getElementById('meals-percentage').textContent = `${weeklyPercentages.meals}%`;
            document.getElementById('porn-free-percentage').textContent = `${weeklyPercentages.pornfree}%`;
            document.getElementById('sleep-percentage').textContent = `${weeklyPercentages.sleep}%`;
            
            // Render weekly chart
            renderWeeklyChart();
        }
        
        // Calculate weekly statistics
        function calculateWeeklyStats() {
            // This is a simplified version - in a real app, you'd calculate based on weeklyData
            return {
                wakeup: Math.floor(Math.random() * 100),
                dsa: Math.floor(Math.random() * 100),
                revision: Math.floor(Math.random() * 100),
                meals: Math.floor(Math.random() * 100),
                pornfree: Math.floor(Math.random() * 100),
                sleep: Math.floor(Math.random() * 100)
            };
        }
        
        // Render weekly chart
        function renderWeeklyChart() {
            weeklyChartContainer.innerHTML = '';
            
            // Create a simple bar chart for each day of the week
            const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            
            days.forEach(day => {
                const percentage = Math.floor(Math.random() * 100);
                
                const dayDiv = document.createElement('div');
                dayDiv.style.marginBottom = '10px';
                
                const label = document.createElement('div');
                label.textContent = `${day}: ${percentage}%`;
                label.style.marginBottom = '5px';
                label.style.fontSize = '0.9rem';
                label.style.display = 'flex';
                label.style.justifyContent = 'space-between';
                
                const barContainer = document.createElement('div');
                barContainer.style.width = '100%';
                barContainer.style.height = '10px';
                barContainer.style.background = 'rgba(255, 255, 255, 0.1)';
                barContainer.style.borderRadius = '5px';
                barContainer.style.overflow = 'hidden';
                
                const barFill = document.createElement('div');
                barFill.style.width = '0%';
                barFill.style.height = '100%';
                barFill.style.background = `linear-gradient(90deg, var(--primary), var(--accent))`;
                barFill.style.transition = 'width 1s ease-in-out';
                barFill.style.borderRadius = '5px';
                
                barContainer.appendChild(barFill);
                dayDiv.appendChild(label);
                dayDiv.appendChild(barContainer);
                
                weeklyChartContainer.appendChild(dayDiv);
                
                // Animate the bar
                setTimeout(() => {
                    barFill.style.width = `${percentage}%`;
                }, 100);
            });
        }
        
        // Counter functionality
        mealPlusBtn.addEventListener('click', () => {
            todayData.meals++;
            saveData();
            updateUI();
        });
        
        mealMinusBtn.addEventListener('click', () => {
            if (todayData.meals > 0) {
                todayData.meals--;
                saveData();
                updateUI();
            }
        });
        
        resetMealsBtn.addEventListener('click', () => {
            todayData.meals = 0;
            saveData();
            updateUI();
        });
        
        urgePlusBtn.addEventListener('click', () => {
            todayData.urges++;
            saveData();
            updateUI();
        });
        
        urgeMinusBtn.addEventListener('click', () => {
            if (todayData.urges > 0) {
                todayData.urges--;
                saveData();
                updateUI();
            }
        });
        
        resetUrgesBtn.addEventListener('click', () => {
            todayData.urges = 0;
            saveData();
            updateUI();
        });
        
        // Timer functionality
        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeLeft === 0) {
                clearInterval(timerInterval);
                timerInterval = null;
                timerDisplay.style.color = '#10b981';
                startBtn.textContent = 'Start Timer';
                alert('Time is up! You successfully delayed the urge. Keep going!');
            } else {
                timeLeft--;
            }
        }
        
        startBtn.addEventListener('click', () => {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                startBtn.textContent = 'Resume Timer';
            } else {
                if (timeLeft === 0) {
                    timeLeft = 2 * 60;
                    timerDisplay.style.color = 'white';
                }
                timerInterval = setInterval(updateTimer, 1000);
                startBtn.textContent = 'Pause Timer';
            }
        });
        
        resetBtn.addEventListener('click', () => {
            clearInterval(timerInterval);
            timerInterval = null;
            timeLeft = 2 * 60;
            timerDisplay.textContent = '02:00';
            timerDisplay.style.color = 'white';
            startBtn.textContent = 'Start Timer';
        });
        
        // Data persistence
        function saveData() {
            // Save today's data
            localStorage.setItem('focusFuelTodayData', JSON.stringify(todayData));
            
            // Initialize weekly data if needed
            if (!localStorage.getItem('focusFuelWeeklyData')) {
                localStorage.setItem('focusFuelWeeklyData', JSON.stringify({}));
            } else {
                weeklyData = JSON.parse(localStorage.getItem('focusFuelWeeklyData'));
            }
            
            // Check if we need to reset for a new day
            checkNewDay();
        }
        
        function loadData() {
            // Load today's data
            const savedTodayData = localStorage.getItem('focusFuelTodayData');
            if (savedTodayData) {
                todayData = JSON.parse(savedTodayData);
                
                // Check if this is a new day
                if (todayData.date !== new Date().toDateString()) {
                    // Save yesterday's data to weekly storage
                    saveToWeeklyData();
                    
                    // Reset for new day
                    todayData = {
                        date: new Date().toDateString(),
                        meals: 0,
                        urges: 0,
                        routine: {}
                    };
                }
            }
            
            // Load weekly data
            const savedWeeklyData = localStorage.getItem('focusFuelWeeklyData');
            if (savedWeeklyData) {
                weeklyData = JSON.parse(savedWeeklyData);
            }
        }
        
        function checkNewDay() {
            if (todayData.date !== new Date().toDateString()) {
                // Save yesterday's data to weekly storage
                saveToWeeklyData();
                
                // Reset for new day
                todayData = {
                    date: new Date().toDateString(),
                    meals: 0,
                    urges: 0,
                    routine: {}
                };
                
                // Update UI
                updateUI();
                initializeRoutine();
            }
        }
        
        function saveToWeeklyData() {
            // Get yesterday's date
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            const yesterdayString = yesterday.toDateString();
            
            // Add to weekly data
            weeklyData[yesterdayString] = todayData;
            
            // Save weekly data
            localStorage.setItem('focusFuelWeeklyData', JSON.stringify(weeklyData));
        }
    </script>
</body>
</html>